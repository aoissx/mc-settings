#!/bin/bash

#*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*
# Author: aoissx
# Description: start script
# OS: Ubuntu 22.04
#*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*

#------------------------------------------------------------------------------------------
# VARIABLES
#------------------------------------------------------------------------------------------

# project name: paper, waterfall, velocity
PROJECT_NAME="paper"

# project version
# if you want to use the latest version, set "latest"
VERSION="1.16.5"

# project url
URL="https://papermc.io/api/v2/projects/${PROJECT_NAME}"

# log
SERVER_LOG=".mc.log"
SCRIPT_LOG=".script.log"

#------------------------------------------------------------------------------------------
# FUNCTIONS
#------------------------------------------------------------------------------------------

#------------------------------
# log
#------------------------------
info(){
    echo -e "\e[32m[INFO]\e[m $1"
}

warn(){
    echo -e "\e[33m[WARN]\e[m $1"
}

error(){
    echo -e "\e[31m[ERROR]\e[m $1"
}
#------------------------------
# REQUIREMENTS
# openjdk-17-jdk, curl, 
# screen, jq
# fonts-noto-cjk
#------------------------------
require(){
    sudo apt update
    sudo apt install -y openjdk-17-jdk curl screen jq fonts-noto-cjk
}

#------------------------------
# Download project
#------------------------------

#------------------------------------------------------------------------------------------
# MAIN
#------------------------------------------------------------------------------------------
main(){
    # check requirements
    info "Checking requirements..."
    require > ${SCRIPT_LOG} 2>&1
}

#------------------------------------------------------------------------------------------
# RUN
#------------------------------------------------------------------------------------------
echo "=================================================="
echo "=====         START MINECRAFT SERVER         ====="
echo "=================================================="

main